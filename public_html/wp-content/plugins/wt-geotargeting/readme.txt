=== WT GeoTargeting ===
Contributors: kustyrt
Tags: geotargeting, geo, geolocation, DaData, ip-api, геотаргетинг, MaxMind
Donate link: https://web-technology.biz/cms-wordpress/finansovaya-podderzhka/
Requires at least: 3.9
Tested up to: 6.0.3
Stable tag: trunk
License: GPLv2 or later
License URI: http://www.gnu.org/licenses/gpl-2.0.html

Гибкая настройка геотаргетинга.

== Description ==

**WT Geotargeting** – бесплатный плагин для CMS WordPress, позволяющий с помощью Шорткодов настраивать геотаргетинг на страницах сайта.

**Геотаргетинг** – вывод на страницах сайта контента (заголовки, текст, адреса, телефоны и т.д.), соответствующего географическому местоположению посетителя.

[«Зачем нужен геотаргетинг на сайте?»](https://web-technology.biz/blog/geotargeting-odin-sajt-dlya-vsex-gorodov/?utm_source=wordpress-org&utm_medium=plugin-page&utm_campaign=wt-geotargeting) - полезная статья для начинающих разработчиков.

= Основные возможности плагина: =
* Геолокация на основе баз IP-адресов «IP Geolocation API», «Sypex Geo», «DaData» или «MaxMind»;
* Определение местоположения посетителей с точностью до страны;
* Определение местоположения посетителей России, Украины и Беларуси с точностью до города;
* Отображение контента с привязкой к местоположению посетителя;
* Отображение местоположения посетителя.

[Быстрый старт](https://web-technology.biz/cms-wordpress/plugin-wt-geotargeting-for-cms-wordpress/bystryj-start/?utm_source=wordpress-org&utm_medium=plugin-page&utm_campaign=wt-geotargeting)

= Возможности расширенной версии плагина: =
* Управление регионами и контактными данными регионов в панели администратора;
* Написание названий регионов в различных падежах;
* Изменение заголовков H1 и Title;
* Статические методы (PHP) для настройки геотаргетинга;
* Импорт городов;
* Поддержка поддоменов (субдоменов);
* Добавление разных цен товара WooCommerce.

[Подробнее о стандарной и расширенной версиях](https://web-technology.biz/cms-wordpress/plugin-wt-geotargeting-pro/?utm_source=wordpress-org&utm_medium=plugin-page&utm_campaign=wt-geotargeting)

Перед настройкой **рекомендуем прочитать** нашу статью [«Юзабилити сайта с геотаргетингом»](http://web-technology.biz/primenenie-geotargetinga-na-sajte/?utm_source=wordpress-org&utm_medium=plugin-page&utm_campaign=wt-geotargeting).

**Официальная страница плагина:** [WT Geotargeting](https://web-technology.biz/cms-wordpress/plugin-wt-geotargeting-pro/?utm_source=wordpress-org&utm_medium=plugin-page&utm_campaign=wt-geotargeting).<br />
**Документация:** [WT Geotargeting](https://web-technology.biz/cms-wordpress/plugin-wt-geotargeting-for-cms-wordpress/?utm_source=wordpress-org&utm_medium=plugin-page&utm_campaign=wt-geotargeting).<br />
**Новости и обсуждение Вконтакте:** [vk.com/agency_web_technology](https://vk.com/agency_web_technology).

== Installation ==

Процесс инсталляции плагина стандартен для WordPress.

1. Найти плагин в панели администратора вашего сайта:
Плагины->Добавить новый->Поле ввода "Поиск плагинов"-> Ввести "WT Geotargeting".
2. Установить найденный плагин.
3. Активировать плагин "WT Geotargeting":
Плагины->Установленные->Активировать "WT Geotargeting".

== Changelog ==

= 1.9 =
* Поддержка сервиса геолокации «IP Geolocation API»

= 1.8.2 =
* Отключение сервиса геолокации «IpGeoBase»

= 1.8.1 =
* Исправление ошибок

= 1.8 =
* Сервис SypexGeo: Выбор сервера и ввод ключа API
* Тестирование и отладка: Исправлена ошибка с выбором города.

= 1.7.13 =
* Шорткод WT_LOCATIONS (*Pro): Исправлена ошибка с отображением 1 колонки.
* Шорткод WT_LOCATIONS (*Pro): Дополнительные параметры list_tag и url_path
* Совместимость с плагином Rank Math (*Pro): Поддержка шорткодов в мета-тегах title и description
* WooCommerce (*Pro): Взаимосвязь отображения товара с региональными запасами

= 1.7.12 =
* Шорткод WT_LOCATIONS (*Pro): Исправлена ошибка с отображением 1 колонки.
* Шорткод WT_LOCATIONS (*Pro): Выбор вида данных сохраняемых в Cookie при выборе города методом JavaScript.
* WooCommerce (*Pro): Добавление запасов в регионах
* WooCommerce (*Pro): Добавление цены распродажи в регионах
* WooCommerce (*Pro): Заполнение полей Страна/Регион/Город значениями активного региона
* WtGtLocation (*Pro): Дополнительный параметр meta_query в функции getObjects()
* WtGtLocationDPD (*Pro): Взаимодействие с таблицей локаций службы доставки DPD
* Техничесике (*Pro): Удаление регионов во время деактивации плагина (при активации одноимённой настройки)
* Subdomain (*Pro): Проверка наличия PHP-модуля intl, необходимого для преобразования кириллических доменных имён

= 1.7.11 =
* Шорткод WT_LOCATIONS (*Pro): Вывод списка городов для выбора города на сайтах с поддоменами.
* Шорткод WT_LOCATIONS (*Pro): Деление списка городов на колонки.
* Шорткод WT_LOCATIONS (*Pro): Маркировка активного города классом "active".

= 1.7.10 =
* SEO (*Pro): Отключение/перезапись канонической ссылки в плагине Yoast SEO.
* JavaScript (*Pro): Отключение JavaScript-скриптов.
* Шорткод WT_LOCATIONS (*Pro): Вывод списка городов для выбора города на сайте без поддоменов.

= 1.7.9 =
* SEO (*Pro): Добавление в генерируемый файл robots.txt ссылки на файл Sitemap
* WooCommerce (*Pro): Привязка коэффициента цен к регионам
* JavaScript WtLocation (*Pro): Выбор региона методом сохранения ID в cookie
* Локализация (*Pro): Добавление перевода названия региона
* Импорт (*Pro): Расширенный импорт регионов из таблицы в формате CSV
* PHP-класс WtLocation переименован в WtGtLocation
* Рефакторинг

= 1.7.8 =
* Region (*Pro): При добавлении новых регионов по умолчанию тип региона "Город"
* Region (*Pro): При добавлении новых регионов по умолчанию страна "Россия"
* SEO (*Pro): Генерация файла robots.txt для поддоменов
* Subdomain (*Pro): Поддержка кириллических доменов (до 6-ти символов в корневом домене) и субдоменов

= 1.7.7 =
* Отображение дополнительной информации при возникновении ошибки сервиса геолокации Sypex Geo
* Subdomain (*Pro): Поддержка кириллических доменов (до 3-х символов в корневом домене) и субдоменов
* Исправление ошибки на странице редактирования меню (*Pro)
* Post (*Pro): Фильтрация записей на отдельной странице
* Шорткод WT_LOCATION (*Pro): Исправление неправильной логики работы атрибута position

= 1.7.6 =
* WooCommerce (*Pro): Добавление цен с привязкой к городу
* WtLocation (*Pro): Добавление параметра сортировки в статичную функцию getObjects()
* Поддержка сервиса геолокации Sypex Geo

= 1.7.5 =
* Post (*Pro): Поддержка шорткодов в H1, title и description
* Post (*Pro): Включение/выключение настройки пунктов меню
* Исправление критической ошибки

= 1.7.4 =
* Шорткод WT_LOCATION (*Pro): Изменения в логике работы
* Subdomain (*Pro): Настройка канонической ссылки - Домен/Субдомен
* Отладка: PHP-функция Wt:debugLogAdd($content) - Отправить данные в лог файл /wp-content/wt_debug.txt

= 1.7.3 =
* Исправление ошибки выбора города через GET-запрос
* Рефакторинг

= 1.7.2 =
* Шорткод WT_LOCATION (*Pro): Поддержка шорткода в контенте
* Рефакторинг

= 1.7 =
* Поддержка сервиса геолокации DaData
* Отключение геолокации
* Отключение сохранения данных геолокации в cookie
* Интеграция стандартных возможностей из расширенной версии плагина
* Рефакторинг и исправление ошибок

= 1.6.6 =
* Subdomain (*Pro): Опция проверки наличия субдомена среди регионов
* Локации (*Pro): Отключение автоматическую установку локации на основе данных из cookie
* Contacts (*Pro): Удаление устаревших настроек по умолчанию

= 1.6.0 =
* Post (*Pro): Автогенерация заголовков по маске
* Region (*Pro): Написание названия региона в различных падежах
* Region (*Pro): Хук-фильтр "wt_gt_region_meta_fields_scheme" для добавления произвольных полей к регионам
* Contacts (*Pro): checkRegionDefault() - Проверка активного региона соответствию региону установленного по умолчанию
* Wt::$gt - Объект определения местоположения посетителя с учетом режима тестирования и входящих значений "По умолчанию"
* Wt::$geolocation - Объект определения местоположения посетителя с помощью внешних сервисов
* Subdomain (*Pro): Поддержка субдоменов
* Рефакторинг и исправление ошибок

= 1.5.8 =
* Исправление ошибок

= 1.5.7 =
* Contacts (*Pro): getCountry($name, $params) - Получить страну по переданным параметрам
* Contacts (*Pro): getDistrict($name, $params) - Получить округ по переданным параметрам
* Contacts (*Pro): getRegion($name, $params) - Получить регион по переданным параметрам
* Contacts (*Pro): getCity($name, $params) - Получить город по переданным параметрам
* Contacts (*Pro): getAdministrativeDistrict($name, $params) - Получить административный округ по переданным параметрам
* Contacts (*Pro): checkRegion($name, $params) - Проверка наличия региона
* Уведомление об ошибке при подключении к «IpGeoBase»
* Исправление ошибок

= 1.5.6 =
* Хук-событие "wt_geotargeting_initialization_end"
* Contacts (*Pro): getRegionsDefault($params) - Получить регионы по умолчанию
* Contacts (*Pro): getRegionsDefaultCount($params) - Получить количество регионов по умолчанию
* Contacts (*Pro): getRegionDefaultName($params) - Получить название региона по умолчанию
* Contacts (*Pro): getRegionsArray($params) - Дополнительный параметр фильтрации "parent" (родительская локация)
* JavaScript WtLocation (*Pro): Дополнительные методы setValues, setCountry, setDistrict, setRegion

= 1.5.5 =
* Изменение структуры папок
* Рефакторинг кода

= 1.5.4 =
* Исправление конфликта с плагином "WooCommerce Customer Relationship Manager"

= 1.5.3 =
* (*Pro) Настройка геотаргетинга для пунктов меню
* Исправление ошибок

= 1.5 =
* Добавлена поддержка сервиса геолокации MaxMind
* Проверка является ли посетитель роботом поисковой системы
* (*Pro) Объединение с плагином WT Contacts 0.2.5 и WT Kit
* (*Pro) Поддержка региональных электронных ящиков при отправке административных уведомлений
* Рефакторинг

= 1.4.5 =
* (*Pro) Ответвление обособленного плагина «WT GeoTargeting Pro»
* (*Pro) setDataCountry() - Присвоить значение текущей страны

= 1.4.4 =
* Исправление точности ручной установки региона пользователя в виде областей и округов;
* Оптимизация работы плагина.

= 1.4.3 =
* Исправление критической ошибки.

= 1.4.2 =
* Глобальный статический PHP-класс "Wt" теперь работает только при установке плагина WT KIT;
* Рефакторинг.

= 1.4 =
* Настройки: Регион посетителя "По умолчанию";
* Глобальный статический PHP-класс "Wt" для доступа к гео-данным;
* PHP-методы getRegion() и getContact() для использования в коде тем оформления;
* Исправление ошибок.

= 1.3.3 =
* Значение по умолчанию для шорткод-атрибута GET;
* Исправление некритических ошибок.

= 1.3.2 =
* Возможность использования шорткодов внутри шорткодов плагина "WT GeoTargeting".

= 1.3.1 =
* Возможность очистки данных из Cookie.

= 1.3 =
* Вывод текущих данных региона посетителя;
* Режим тестирования работы плагина.

= 1.2 =
* Справочник городов (в панели администратора);
* Исправление ошибок.

= 1.1 =
* Возможность выбора города (или региона) посетителем сайта.

= 1.0 =
* Работа с базой Российских и Украинских IP-адресов «IpGeoBase»;
* Настройка геотаргетинга с помощью Шорткодов.
